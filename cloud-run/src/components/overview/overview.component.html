<div class="p-6 space-y-6">
  <!-- Most Used Resources -->
  <div class="bg-white border border-gray-200 rounded-md">
    <div class="p-4 border-b border-gray-200">
      <h2 class="text-base font-medium text-gray-800">Most used resources</h2>
    </div>
    <div class="flex">
      <!-- Resources Table -->
      <div class="w-1/2">
        <table class="w-full text-left text-sm">
          <thead>
            <tr class="border-b border-gray-200">
              <th class="p-3 font-medium text-gray-600">Name</th>
              <th class="p-3 font-medium text-gray-600">Region</th>
              <th class="p-3 font-medium text-gray-600">Type</th>
              <th class="p-3 font-medium text-gray-600">Last updated</th>
            </tr>
          </thead>
          <tbody>
            @for (resource of resources(); track resource.name + resource.lastUpdated) {
              <tr class="border-b border-gray-200 last:border-b-0 hover:bg-gray-50">
                <td class="p-3">
                  <div class="flex items-center">
                    <svg class="w-4 h-4 text-green-600 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                    @if(resource.type === 'Service') {
                      <button (click)="serviceClicked.emit(resource.name)" class="text-blue-600 font-medium hover:underline text-left">{{ resource.name }}</button>
                    } @else {
                      <button (click)="jobClicked.emit(resource.name)" class="text-blue-600 font-medium hover:underline text-left">{{ resource.name }}</button>
                    }
                  </div>
                </td>
                <td class="p-3 text-gray-800">{{ resource.region }}</td>
                <td class="p-3 text-gray-800">{{ resource.type }}</td>
                <td class="p-3 text-gray-800">{{ resource.lastUpdated }}</td>
              </tr>
            }
          </tbody>
        </table>
      </div>
      <!-- Graph/Errors -->
      <div class="w-1/2 border-l border-gray-200 flex flex-col">
        <div class="flex justify-between items-center p-2 border-b border-gray-200 shrink-0">
          <div class="flex">
            <button 
              (click)="activeTab.set('scaling')"
              class="px-3 py-1.5 text-sm font-medium"
              [class.text-blue-600]="activeTab() === 'scaling'"
              [class.border-b-2]="activeTab() === 'scaling'"
              [class.border-blue-600]="activeTab() === 'scaling'"
              [class.text-gray-600]="activeTab() !== 'scaling'">
              Scaling
            </button>
            <button 
              (click)="activeTab.set('errors')"
              class="px-3 py-1.5 text-sm font-medium"
              [class.text-blue-600]="activeTab() === 'errors'"
              [class.border-b-2]="activeTab() === 'errors'"
              [class.border-blue-600]="activeTab() === 'errors'"
              [class.text-gray-600]="activeTab() !== 'errors'">
              Errors
            </button>
          </div>
          <div class="flex items-center text-sm">
            <span class="text-gray-600">7 days</span>
            <svg class="w-4 h-4 text-gray-500 ml-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
          </div>
        </div>
        
        <div class="flex-grow">
          @switch (activeTab()) {
            @case ('scaling') {
              <div class="p-4 h-48 relative">
                <!-- Mock Graph -->
                <svg class="w-full h-full" preserveAspectRatio="none">
                  <path d="M0,80 L20,60 L40,70 L60,40 L80,50 L100,20" fill="none" stroke="#4285F4" stroke-width="1.5" />
                  <path d="M0,50 L20,40 L40,60 L60,50 L80,70 L100,60" fill="none" stroke="#34A853" stroke-width="1.5" />
                  <path d="M0,20 L20,30 L40,10 L60,20 L80,10 L100,30" fill="none" stroke="#EA4335" stroke-width="1.5" />
                </svg>
                 <div class="absolute bottom-0 left-0 w-full flex justify-between text-xs text-gray-500 px-2">
                    <span>Oct 17</span><span>Oct 18</span><span>Oct 19</span><span>Oct 20</span><span>Oct 21</span><span>Oct 22</span>
                  </div>
              </div>
            }
            @case ('errors') {
              <div>
                <table class="w-full text-left text-sm">
                  <thead class="bg-gray-50">
                    <tr class="border-b border-gray-200">
                      <th class="p-3 font-medium text-gray-600">Occurrences</th>
                      <th class="p-3 font-medium text-gray-600">Count</th>
                      <th class="p-3 font-medium text-gray-600">Error</th>
                      <th class="p-3 font-medium text-gray-600">Resources</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (error of errors(); track error.error) {
                      <tr class="border-b border-gray-200 last:border-b-0 h-[53px]">
                        <td class="p-3 text-blue-500 font-mono tracking-tighter">
                          <span>...|...</span>
                        </td>
                        <td class="p-3 text-gray-800">{{ error.count }}</td>
                        <td class="p-3 text-gray-800">
                          <a href="#" (click)="$event.preventDefault()" class="text-gray-800 hover:text-blue-600 underline">{{ error.error }}</a>
                        </td>
                        <td class="p-3">
                          <button (click)="serviceClicked.emit(error.resource)" class="text-blue-600 hover:underline">
                            {{ error.resourceDisplay }}
                          </button>
                        </td>
                      </tr>
                    }
                  </tbody>
                </table>
              </div>
            }
          }
        </div>
      </div>
    </div>
  </div>

  <!-- Action Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Deploy a web service -->
    <div class="bg-white border border-gray-200 rounded-md p-6">
      <h3 class="text-base font-medium text-gray-800 mb-1">Deploy a web service</h3>
      <p class="text-gray-600 mb-4">Deploy a website or API. <a href="#" class="text-blue-600 hover:underline">Learn more</a></p>
      <div class="flex space-x-4">
        <button class="flex flex-col items-center justify-center p-4 border rounded-md hover:bg-gray-50 w-32 h-32 text-center">
           <svg class="w-8 h-8 mb-2 text-gray-700" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
          <span class="font-medium text-gray-800">Connect repository</span>
        </button>
        <button class="flex flex-col items-center justify-center p-4 border rounded-md hover:bg-gray-50 w-32 h-32 text-center">
          <svg class="w-8 h-8 mb-2 text-gray-700" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><path d="M112 32C49.3 32 0 81.3 0 144v224c0 62.7 49.3 112 112 112H464c8.8 0 16-7.2 16-16s-7.2-16-16-16H112c-44.2 0-80-35.8-80-80V144c0-44.2 35.8-80 80-80H464c44.2 0 80 35.8 80 80v32c0 8.8 7.2 16 16 16s16-7.2 16-16V144C560 81.3 510.7 32 448 32H112zM232 208c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V224c0-8.8-7.2-16-16-16H232zm96 0c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V224c0-8.8-7.2-16-16-16H328zm96 0c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V224c0-8.8-7.2-16-16-16H424zM232 288c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16H232zm96 0c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16H328zm96 0c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16H424z"/></svg>
          <span class="font-medium text-gray-800">Deploy container</span>
        </button>
      </div>
    </div>
    <!-- Create a batch job -->
    <div class="bg-white border border-gray-200 rounded-md p-6">
      <h3 class="text-base font-medium text-gray-800 mb-1">Create a batch job or a background worker pool</h3>
      <p class="text-gray-600 mb-4">Run scripts, cron jobs, or parallelized data processing workloads. <a href="#" class="text-blue-600 hover:underline">Learn more</a></p>
       <div class="flex space-x-4">
        <button class="flex flex-col items-center justify-center p-4 border rounded-md hover:bg-gray-50 w-32 h-32 text-center">
          <svg class="w-8 h-8 mb-2 text-gray-700" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" /></svg>
          <span class="font-medium text-gray-800">Create job</span>
        </button>
        <button class="flex flex-col items-center justify-center p-4 border rounded-md hover:bg-gray-50 w-32 h-32 text-center">
          <svg class="w-8 h-8 mb-2 text-gray-700" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995s.145.755.438.995l1.003.827c.484.398.667 1.053.26 1.431l-1.296 2.247a1.125 1.125 0 0 1-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.075.124a6.57 6.57 0 0 1-.22.127c-.332.183-.582.495-.645.87l-.213 1.281c-.09.543-.56.94-1.11.94h-2.593c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 0 1-.22-.127c-.324-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 0 1-1.37-.49l-1.296-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.437-.995s-.145-.755-.437-.995l-1.004-.827a1.125 1.125 0 0 1-.26-1.431l1.296-2.247a1.125 1.125 0 0 1 1.37-.49l1.217.456c.355.133.75.072 1.075-.124.073-.044.146-.087.22-.127.332-.183.582.495.645-.87l.213-1.281Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>
          <span class="font-medium text-gray-800">Create worker pool</span>
        </button>
      </div>
    </div>
    <!-- Write a function -->
    <div class="bg-white border border-gray-200 rounded-md p-6">
      <h3 class="text-base font-medium text-gray-800 mb-1">Write a function</h3>
      <p class="text-gray-600 mb-4">Write and deploy functions or source code using your favorite language. <a href="#" class="text-blue-600 hover:underline">Learn more</a></p>
      <div class="grid grid-cols-4 gap-2">
        <button class="flex flex-col items-center justify-center p-2 border rounded-md hover:bg-gray-50 h-20 text-center text-xs">
          <span class="font-bold text-2xl">JS</span><span>Node.js</span></button>
        <button class="flex flex-col items-center justify-center p-2 border rounded-md hover:bg-gray-50 h-20 text-center text-xs">
          <svg class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M11.25 12c0-1.54.4-2.91 1.2-4.11.8-1.2 1.83-2.06 3.09-2.59.39-.16.8-.24 1.21-.24.5 0 .93.13 1.3.4.37.26.56.62.56 1.08 0 .37-.11.7-.32.99s-.5.53-.86.73c-.55.3-1 .69-1.39 1.15-.39.47-.58.96-.58 1.48 0 .42.13.82.4 1.19.26.37.62.56 1.08.56.49 0 .9-.13 1.23-.4.33-.26.5-.62.5-1.07 0-.36-.11-.68-.32-.97-.22-.29-.51-.54-.87-.73-.36-.2-.65-.45-.87-.73l-.33-.44V12h3.44v-1.12h-4.5v.75c0 .75.13 1.41.4 1.98.26.57.63 1.05 1.1 1.44.47.39.99.68 1.56.88.57.2 1.13.3 1.69.3.83 0 1.58-.2 2.25-.6.67-.4 1.19-1.03 1.56-1.88.37-.85.56-1.85.56-2.98 0-1.2-.23-2.28-.7-3.23-.47-.95-1.1-1.7-1.89-2.29-.79-.58-1.68-.87-2.67-.87-.93 0-1.75.26-2.47.78-.72.52-1.28 1.25-1.68 2.19-.4.94-.6 2.03-.6 3.25v.75h4.5V12h-3.44z M0 11.25v-4.5h3.44v10.12h1.12V6.75h3.44v4.5H4.56v3.38H3.44V11.25H0z"/></svg>
          <span>Python</span></button>
        <button class="flex flex-col items-center justify-center p-2 border rounded-md hover:bg-gray-50 h-20 text-center text-xs">
          <span class="font-bold text-lg">GO</span><span>Go</span></button>
        <button class="flex flex-col items-center justify-center p-2 border rounded-md hover:bg-gray-50 h-20 text-center text-xs">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25" /></svg>
          <span>Java</span></button>
        <button class="flex flex-col items-center justify-center p-2 border rounded-md hover:bg-gray-50 h-20 text-center text-xs">
          <span class="font-mono text-xl">php</span><span>PHP</span></button>
        <button class="flex flex-col items-center justify-center p-2 border rounded-md hover:bg-gray-50 h-20 text-center text-xs">
          <span>.NET</span><span>.NET</span></button>
        <button class="flex flex-col items-center justify-center p-2 border rounded-md hover:bg-gray-50 h-20 text-center text-xs">
          <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="m12 0 1.06 6.34L18.34 0H12zm0 0L5.66 0 10.94 6.34 12 0zm-1.06 6.34L0 12l6.34-1.06L10.94 6.34zm2.12 0L17.66 12 24 6.34l-6.34-1.06-2.12 2.12zM0 12l6.34 1.06L0 18.34V12zm1.06 7.42L12 24l-4.59-4.59L1.06 19.42zM12 24l10.94-12h-5.28L12 24zm5.66-4.58L12 12l5.66 7.42-4.59-4.59z"/></svg>
          <span>Ruby</span></button>
      </div>
    </div>
  </div>
</div>