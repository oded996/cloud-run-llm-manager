<div class="p-6">
  <!-- Time range filter -->
  <div class="flex items-center space-x-4 mb-4 text-sm">
      @for(range of timeRanges; track range) {
          <button 
              (click)="selectTimeRange(range)"
              class="flex items-center rounded-md"
              [class.text-gray-600]="selectedTimeRange() !== range"
              [class.hover:text-gray-900]="selectedTimeRange() !== range"
              [class.text-blue-600]="selectedTimeRange() === range"
              [class.font-medium]="selectedTimeRange() === range">
              @if(selectedTimeRange() === range) {
                  <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
              }
              {{ range }}
          </button>
      }
      <button class="flex items-center text-gray-600 hover:text-gray-900">
          <span>Custom</span>
          <svg class="w-4 h-4 ml-1 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
      </button>
  </div>

  <!-- Errors table -->
  <div class="bg-white border border-gray-200 rounded-md overflow-hidden">
      <table class="w-full text-left text-sm">
          <thead class="bg-gray-50 border-b border-gray-200">
              <tr>
                  <th class="p-3 font-medium text-gray-600 w-48">Occurrences</th>
                  <th class="p-3 font-medium text-gray-600 w-24">Count</th>
                  <th class="p-3 font-medium text-gray-600">Error</th>
              </tr>
          </thead>
          <tbody>
              @for (err of serviceErrors(); track err.error) {
                  <tr class="border-b border-gray-200 last:border-b-0">
                      <td class="p-3">
                          <div class="h-8 flex items-end space-x-0.5 border-b border-gray-300 pb-1">
                              <span class="w-1 h-1 bg-blue-400"></span><span class="w-1 h-2 bg-blue-400"></span>
                              <span class="w-1 h-3 bg-blue-400"></span><span class="w-1 h-5 bg-blue-400"></span>
                              <span class="w-1 h-6 bg-blue-400"></span><span class="w-1 h-4 bg-blue-400"></span>
                              <span class="w-1 h-3 bg-blue-400"></span><span class="w-1 h-2 bg-blue-400"></span>
                              <span class="w-1 h-1 bg-blue-400"></span><span class="w-1 h-2 bg-blue-400"></span>
                              <span class="w-1 h-4 bg-blue-400"></span><span class="w-1 h-5 bg-blue-400"></span>
                              <span class="w-1 h-3 bg-blue-400"></span><span class="w-1 h-2 bg-blue-400"></span>
                          </div>
                      </td>
                      <td class="p-3 text-gray-800">{{ err.count }}</td>
                      <td class="p-3 text-gray-800">
                          <div class="truncate">
                              <a href="#" (click)="$event.preventDefault()" class="text-gray-800 hover:text-blue-600 underline">{{ err.error }}</a>
                          </div>
                      </td>
                  </tr>
              }
          </tbody>
      </table>
  </div>
</div>
